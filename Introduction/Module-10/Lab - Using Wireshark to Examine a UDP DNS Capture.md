## Part 1: Record VM's IP Configuration Information
a. Your CyberOps Workstation VM network settings should be set to bridged adapter. To check your network settings go to: Machine > Settings, select Network, the tab Adapter 1, Attached to: Bridged Adapter.

b. Open a terminal in the VM. Enter ifconfig at the prompt to display interface information. If you do not have an IP address on your local network, run the following command in the terminal:

![image](https://github.com/Akhilkj123/CyberOps/assets/65653010/9f5d692c-1431-4edd-a62e-9020a34c65da)
![image](https://github.com/Akhilkj123/CyberOps/assets/65653010/6be36a94-4c82-4b06-a23c-079e29cfab79)

c. At the terminal prompt, enter cat /etc/resolv.conf to determine the DNS server.

![image](https://github.com/Akhilkj123/CyberOps/assets/65653010/eaaf52f8-8486-46bb-9c69-a3f843db31e3)

d. At the terminal prompt, enter netstat -rn to display the IP routing table to the default gateway IP address.

![image](https://github.com/Akhilkj123/CyberOps/assets/65653010/69920c83-8411-4a15-9026-b33051da7caa)

## Part 2: Use Wireshark to Capture DNS Queries and Responses
a. In the terminal window, start Wireshark and click OK when prompted.

b. In the Wireshark window, select and double-click enp0s3 from the interface list.

c. Open the web browser and navigate to www.google.com.

![image](https://github.com/Akhilkj123/CyberOps/assets/65653010/d37241c2-7068-4193-baa1-b99feace79c6)

d. Click Stop to stop the Wireshark capture when you see Googleâ€™s home page.

![image](https://github.com/Akhilkj123/CyberOps/assets/65653010/74bc490c-7ca0-4a92-bf9f-f450e6436b8d)

## Part 3: Analyze Captured DNS or UDP Packets
### Step 1: Filter DNS packets.
a. In the Wireshark main window, type dns in the Filter field. Click Apply.

![image](https://github.com/Akhilkj123/CyberOps/assets/65653010/22ea084f-9d13-450d-8bf8-70f7f72a47fb)

b. In the packet list pane (top section) of the main window, locate the packet that includes Standard query
and A www.google.com. See frame 429 above as an example.

### Step 2: Examine the fields in a DNS query packet.
a. In the first line in the packet details pane, frame 429 had 74 bytes of data on the wire. This is the number
of bytes it took to send a DNS query to a named server requesting the IP addresses of www.google.com.
If you used a different web address, such as www.cisco.com, the byte count might be different.

b. The Ethernet II line displays the source and destination MAC addresses. The source MAC address is
from your VM because your VM originated the DNS query. The destination MAC address is from the
default gateway because this is the last stop before this query exits the local network.

i) Is the source MAC address the same as the one recorded from Part 1 for the VM?

c. In the Internet Protocol Version 4 line, the IP packet Wireshark capture indicates that the source IP
address of this DNS query is 192.168.8.10 and the destination IP address is 8.8.4.4. In this example, the
destination address is the DNS server.

i) Can you identify the IP and MAC addresses for the source and destinations of this packet?
- Source: IP Address - 192.168.1.7 and MAC Address -  08:00:27:dc:f6:fd
- Destination: IP Address - 8.8.4.4 and MAC Address - bc:62:d2:7c:c4:60

d. A UDP header only has four fields: source port, destination port, length, and checksum. Each field in a
UDP header is only 16 bits as depicted below.
- Frame Size - Frame 19: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on interface 0
- Source MAC address - 08:00:27:dc:f6:fd
- Destination MAC address - bc:62:d2:7c:c4:60
- Source IP address - 192.168.1.7
- Destination IP address - 8.8.4.4
- Source port - 42637
- Destination port - 53

### Step 3: Examine the fields in a DNS response packet.
a. In this example, frame 488 is the corresponding DNS response packet. Notice the number of bytes on the
wire is 90. It is a larger packet compared to the DNS query packet. This is because the DNS response
packet will include a variety of information about the domain.

b. In the Ethernet II frame for the DNS response, what device is the source MAC address and what device is
the destination MAC address?
- Source is the PC and Destination is the DNS Server

c. Notice the source and destination IP addresses in the IP packet.
 
 i) What is the destination IP address?
 - 192.168.1.7

ii) What is the source IP address?
- 8.8.4.4

iii) What happened to the roles of source and destination for the VM and default gateway?
- It got reversed

d. In the UDP segment, the role of the port numbers has also reversed. The destination port number is 58029. Port number 58029 is the same port that was generated by the VM when the DNS query was sent to the DNS server. Your VM listens for a DNS response on this port. The source port number is 53. The DNS server listens for a DNS query on port 53 and then sends a DNS response with a source port number of 53 back to the originator of the DNS query.

#### What are the benefits of using UDP instead of TCP as a transport protocol for DNS?
- UDP results in faster transaction times compared to the setup and teardown process of TCP connections.
- UDP is particularly beneficial for small DNS queries and responses, as the additional header size in TCP might be unnecessary.
 
